{"version":3,"sources":["Context/BaseContext.js","Component/Alert.js","Component/PlayListCard.js","Component/Addto.js","Component/FullScreenPlayer.js","Component/MusicCard.js","Component/HomeBody.js","Component/Homepage.js","Component/Player.js","Component/Signin.js","Component/Signup.js","Component/UploadMusic.js","Component/CreateNewPlaylist.js","Component/Playlist.js","Component/SearchResult.js","App.js","Context/FirebaseInit.js","Context/ContextState.js","index.js"],"names":["BaseContext","createContext","Alert","props","context","useContext","hideForm","setAlert","alert","className","onClick","alertBody","PlayListCard","x","addSong","a","data","localStorage","getItem","JSON","stringify","curMusic","callApi","id","setshowAddto","histroy","useHistory","style","backgroundImage","src","backgroundSize","backgroundPosition","action","setsearchResultshow","push","alt","name","length","substr","creator","Addto","hideMe","showAddto","user","setloginShow","contribPlayList","map","elem","index","createdBy","clip","_id","setcreateListShow","FullScreenPlayer","audio","fullfull","sliderFull","fullpassed","fullScreenTimePassed","fullScreenDot","getTime","min","parseInt","sec","lastSong","setcurMusic","curQueue","changeURL","currentTime","load","play","playPause","document","getElementById","classList","remove","add","playPause2","nextSong","setTimeout","querySelector","addEventListener","innerHTML","duration","width","window","innerWidth","left","e","pos","clientX","offsetLeft","cur","useEffect","checkSong","arr","location","href","split","parsed","fetch","json","resp","class","setchangeURL","profilePic","MusicCard","shrink","text","playSong","liked","backgroundColor","singer","likes","align","HomeBody","savedPlayList","ind","savedAudio","indexOf","plays","playing","Homepage","searchSong","preventDefault","keyword","value","trim","setalertBody","setsearchResult","shuffleArray","array","curId","randId","Math","floor","random","tmp","fetchSong","setrecentMusic","setcurQueue","onSubmit","type","placeholder","setuploadMusicShow","removeItem","cursor","Player","timerDot","curTimeAudio","songtimeslider","volumeSlider","curVolume","volumeDot","curTimeShow","fullTimeShow","nextsong","pervioussong","volumeLogo","useState","setliked","ontimeupdate","timeUpdate","dist","playHandle","contains","pause","maxMusic","Object","keys","likeHandle","token","tempQue","curUser","setuser","getLike","height","setAttribute","volume","Signin","signinme","username","password","error","setItem","loginShow","required","setsignUpShow","Signup","uploadImg","img","fileReader","FileReader","onload","target","result","readAsDataURL","files","signUpMe","cpassword","file","profilepic","createAccount","endsWith","upload","removeAttribute","signUpShow","htmlFor","title","display","onChange","UploadMusic","imgURL","setimgURL","music","setmusic","uploadMusic","uploadbtn","fileInput","musicInput","musicUrl","tags","success","hideUpload","uploadMusicShow","CreateNewPlaylist","d","songs","createList","createListShow","Playlist","songElems","setsongElems","songArray","setsongArray","parsedArray","setparsedArray","isFollowed","setisFollowed","fetchList","listId","listDetail","setcurPlaylist","i","parse","followed","addToQueue","n","unfollow","follow","curPlaylist","SearchResult","searchResultshow","resultshowSong","resultshowlist","songResult","listResult","searchResult","playlist","App","fetchUser","muted","exact","path","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","getStorage","ContextState","recentMusic","recentSong","setrecentSong","endpoint","url","method","headers","body","fileRef","ref","metadata","contentType","uploadBytesResumable","getDownloadURL","Provider","children","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.0d78eca3.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nconst BaseContext = createContext();\r\n\r\nexport default BaseContext;","import React, { useContext } from \"react\";\r\nimport BaseContext from \"../Context/BaseContext\";\r\nimport \"./Styles/Alert.css\";\r\n\r\nexport default function Alert(props) {\r\n    const context = useContext(BaseContext);\r\n\r\n\r\n    const hideForm = () => {\r\n        context.setAlert(false);\r\n    }\r\n\r\n    if (context.alert === false) return <></>;\r\n    return (\r\n        <>\r\n            <div className=\"cover\" onClick={hideForm}>\r\n                <div className=\"alertBox\">\r\n                    <div className=\"alertBody\">{context.alertBody}</div>\r\n                    <div className=\"alertOk\" onClick={hideForm}>Ok</div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n    \r\n}\r\n","import React, { useContext } from 'react'\r\nimport { useHistory } from 'react-router';\r\nimport BaseContext from '../Context/BaseContext'\r\nimport \"./Styles/PlayListCard.css\"\r\n\r\nexport default function PlayListCard(props) {\r\n    const context = useContext(BaseContext);\r\n\r\n    const shrink = (x)=>{\r\n        if(x.length > 12){\r\n            return x.substr(0,12)+\"...\"\r\n        }\r\n        return x;\r\n    }\r\n\r\n    const addSong = async ()=>{\r\n        var data = {\r\n            \"token\":localStorage.getItem(\"jwtTokken\"),\r\n            \"songs\":JSON.stringify(context.curMusic)\r\n        }\r\n        //console.log(\"/api/playlist/\",props.id.id, context.curMusic);\r\n        await context.callApi(\"/api/playlist/\"+props.id.id,\"PUT\", data);\r\n        //console.log(data);\r\n        context.setshowAddto(false);\r\n    }\r\n    const histroy = useHistory();\r\n    const open = ()=>{\r\n        context.setsearchResultshow(false);\r\n        histroy.push(\"/playlist?id=\"+props.id.id);\r\n        \r\n    }\r\n\r\n    \r\n    return (\r\n        <div className=\"playListCardCont\" style={{backgroundImage:`url(${props.src})`, backgroundSize:\"cover\", backgroundPosition:\"center\"}} onClick={props.action===\"create\"?addSong:open}>\r\n            <img src={props.src} className=\"albumcover\" alt=\"album cover\"/>\r\n            <div className=\"details\">\r\n                <div className=\"playListName\">{shrink(props.name)}</div>\r\n                <div className=\"playListCreator\">{props.creator}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport BaseContext from \"../Context/BaseContext\";\r\nimport PlayListCard from \"./PlayListCard\";\r\nimport \"./Styles/Addto.css\";\r\n\r\nexport default function Addto() {\r\n    const context = useContext(BaseContext);\r\n    const hideMe = () => {\r\n        context.setshowAddto(false);\r\n    };\r\n    if (context.showAddto === false) return <></>;\r\n    if (context.user === null) {\r\n        hideMe();\r\n        context.setloginShow(true);\r\n        return;\r\n    }\r\n    const shownewListCreator = () => {\r\n        context.setcreateListShow(true);\r\n    };\r\n\r\n    return (\r\n        <div className=\"divaddtoCont\">\r\n            <i className=\"fas fa-times signinclose\" onClick={hideMe}></i>\r\n            <div className=\"addtocontainer\">\r\n                <div id=\"addlistscroll\">\r\n                    {context.user.contribPlayList.map((elem, index) => {\r\n                        return (\r\n                            <PlayListCard\r\n                                action=\"create\"\r\n                                key={elem._id}\r\n                                name={elem.name}\r\n                                creator={elem.createdBy}\r\n                                id={elem}\r\n                                src={elem.clip}\r\n                            />\r\n                        );\r\n                    })}\r\n                </div>\r\n                <div className=\"addnewplaylist\" onClick={shownewListCreator}>\r\n                    <div className=\"fas fa-plus\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import \"./Styles/FullScreenPlayer.css\";\r\nimport React, { useContext, useEffect } from \"react\";\r\nimport BaseContext from \"../Context/BaseContext\";\r\nimport { useHistory } from \"react-router\";\r\nimport Addto from \"./Addto\";\r\n\r\nexport default function FullScreenPlayer() {\r\n    const context = useContext(BaseContext);\r\n    const getTime = (x) => {\r\n        var min = parseInt(x / 60);\r\n        if (!min) min = 0;\r\n        var sec = parseInt(x % 60);\r\n        if (!sec) sec = 0;\r\n        return `${min > 9 ? \"\" : \"0\"}${min}:${sec > 9 ? \"\" : \"0\"}${sec}`;\r\n    };\r\n\r\n    const histroy = useHistory();\r\n\r\n    const lastSong = async () => {\r\n        if (context.curMusic.index === 0) return;\r\n        else {\r\n            if (!context.curMusic.index) {\r\n                return;\r\n            }\r\n            context.setcurMusic(context.curQueue[context.curMusic.index - 1]);\r\n            if (context.changeURL)\r\n                histroy.push(\r\n                    `/audio?id=${\r\n                        context.curQueue[context.curMusic.index - 1]._id\r\n                    }`\r\n                );\r\n            audio.currentTime = 0;\r\n            await audio.load();\r\n            audio.play();\r\n            const playPause = document.getElementById(\"playPause\");\r\n            playPause.classList.remove(\"fa-play\");\r\n            playPause.classList.add(\"fa-pause\");\r\n            const playPause2 = document.getElementById(\"playPause2\");\r\n            playPause2.classList.remove(\"fa-play\");\r\n            playPause2.classList.add(\"fa-pause\");\r\n        }\r\n    };\r\n\r\n    const nextSong = async () => {\r\n        if (context.curMusic.index === context.curQueue.length - 1) return;\r\n        else {\r\n            if (context.curMusic.index !== 0 && !context.curMusic.index) {\r\n                return;\r\n            }\r\n            // //console.log(context.curQueue, context.curMusic.index + 1);\r\n            context.setcurMusic(context.curQueue[context.curMusic.index + 1]);\r\n            if (context.changeURL)\r\n                histroy.push(\r\n                    `/audio?id=${\r\n                        context.curQueue[context.curMusic.index + 1]._id\r\n                    }`\r\n                );\r\n\r\n            audio.currentTime = 0;\r\n            await audio.load();\r\n            audio.play();\r\n            const playPause = document.getElementById(\"playPause\");\r\n            playPause.classList.remove(\"fa-play\");\r\n            playPause.classList.add(\"fa-pause\");\r\n            const playPause2 = document.getElementById(\"playPause2\");\r\n            playPause2.classList.remove(\"fa-play\");\r\n            playPause2.classList.add(\"fa-pause\");\r\n        }\r\n    };\r\n\r\n\r\n    var audio, fullfull, sliderFull, fullpassed, fullScreenTimePassed, fullScreenDot;\r\n    setTimeout(()=>{\r\n        audio = document.querySelector(\"audio\");\r\n        fullfull = document.getElementById(\"fullfull\");\r\n        fullpassed = document.getElementById(\"fullpassed\");\r\n        fullScreenDot = document.getElementById(\"fullScreenDot\");\r\n        fullScreenTimePassed = document.getElementById(\"fullScreenTimePassed\");\r\n        sliderFull = document.getElementById(\"sliderFull\");\r\n\r\n        audio.addEventListener(\"timeupdate\",()=>{\r\n            fullfull.innerHTML = getTime(audio.duration);\r\n            fullpassed.innerHTML = getTime(audio.currentTime);\r\n            var width = (audio.currentTime/audio.duration) * window.innerWidth * 0.8;\r\n\r\n            fullScreenDot.style.left = width+\"px\";\r\n            fullScreenTimePassed.style.width = width+\"px\";\r\n        });\r\n\r\n        sliderFull.addEventListener(\"click\",(e)=>{\r\n            var pos = e.clientX - sliderFull.offsetLeft;\r\n            var cur = (pos/(window.innerWidth * 0.8))*audio.duration;\r\n            audio.currentTime = cur;\r\n            fullScreenDot.style.left = pos+\"px\";\r\n            fullScreenTimePassed.style.width = pos+\"px\";\r\n\r\n        })\r\n\r\n    },100)\r\n    useEffect(() => {\r\n        const checkSong = async () => {\r\n            var arr = window.location.href.split(\"=\");\r\n            var parsed = arr[arr.length - 1];\r\n            if (context.curMusic._id !== parsed) {\r\n                const data = await fetch(`/api/song/${parsed}`);\r\n                const resp = await data.json();\r\n                // //console.log(\"dhfadsjkfhadsjkfhadsjkfhkdsjfhdkjh\",resp);\r\n                if(resp.data)context.setcurMusic(resp.data);\r\n                else context.setcurMusic({});\r\n            }\r\n            // document.getElementById(\"audio\").play();\r\n            // document.getElementById(\"audio\").currentTime = context.curSongTime;\r\n            \r\n        }\r\n        checkSong();\r\n    }, []);\r\n    // const history = useHistory();\r\n    const minimizeFull = ()=>{\r\n        context.setchangeURL(false);\r\n        histroy.push(\"/\");\r\n    }\r\n\r\n    const showaddto = ()=>{\r\n        if(context.user === null) {\r\n            context.setloginShow(true);\r\n            return;\r\n        }\r\n        context.setshowAddto(true);\r\n    }\r\n\r\n    const defaultPic =\r\n        \"https://firebasestorage.googleapis.com/v0/b/sampleproject-321915.appspot.com/o/defaultUser.jpg?alt=media&token=b805932f-d9bd-432f-95c8-b1ff00de708a\";\r\n    return (\r\n        <div class=\"fullscreencont\">\r\n            <Addto/>\r\n            <div className=\"fullPlayerHeader\">\r\n                <i className=\"fas fa-home fullplayerhome\" onClick={minimizeFull}></i>\r\n\r\n                <div className=\"fullHeadRight\">\r\n                    <i className=\"fas fa-plus-circle\" onClick={showaddto}></i>\r\n                    <img\r\n                        src={`${\r\n                            context.user ? context.user.profilePic : defaultPic\r\n                        }`}\r\n                        alt=\"\"\r\n                        className=\"fullPlayerImg\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"middle\">\r\n                <img\r\n                    src={context.curMusic.clip}\r\n                    alt=\"\"\r\n                    className=\"fullScreenCover\"\r\n                />\r\n\r\n<img\r\n                    src={context.curMusic.clip}\r\n                    alt=\"\"\r\n                    className=\"backgroundcover\"\r\n                />\r\n\r\n            </div>\r\n\r\n            <div className=\"fullScreenTimeControl\">\r\n                <div className=\"fullScreenTimeSlider\">\r\n                    <div className=\"sliderFull\" id=\"sliderFull\">\r\n                        <div className=\"fullScreenDot\" id=\"fullScreenDot\"></div>\r\n                        <div className=\"fullScreenTimePassed\" id=\"fullScreenTimePassed\"></div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"fullScreenControl\">\r\n                    <div className=\"frontBack\">\r\n                        <i className=\"fas fa-step-backward fasfirst\" onClick={lastSong}></i>\r\n                        <i className=\"fas fa-step-forward\" onClick={nextSong}></i>\r\n                    </div>\r\n                    <div>\r\n                        <span id=\"fullpassed\">00:00</span>/<span id=\"fullfull\">00:00</span>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useContext } from \"react\";\r\n// import { useHistory } from \"react-router\";\r\nimport BaseContext from \"../Context/BaseContext\";\r\nimport \"./Styles/MusicCard.css\";\r\n\r\nexport default function MusicCard(props) {\r\n    // const history = useHistory();\r\n    const context = useContext(BaseContext);\r\n    const shrink = (text) => {\r\n        if (window.innerWidth <= 400) {\r\n            if (text.length < 15) return text;\r\n            return text.substr(0, 15) + \"..\";\r\n        } else {\r\n            if (text.length < 20) return text;\r\n            return text.substr(0, 20) + \"...\";\r\n        }\r\n    };\r\n\r\n    const playSong = async () => {\r\n        context.setcurMusic(props.id);\r\n        const audio = document.getElementById(\"audio\");\r\n\r\n        //console.log(audio);\r\n        if (audio != null) audio.currentTime = 0;\r\n        await audio.load();\r\n        audio.play();\r\n        const playPause = document.getElementById(\"playPause\");\r\n        playPause.classList.remove(\"fa-play\");\r\n        playPause.classList.add(\"fa-pause\");\r\n        const playPause2 = document.getElementById(\"playPause2\");\r\n        playPause2.classList.remove(\"fa-play\");\r\n        playPause2.classList.add(\"fa-pause\");\r\n        context.setsearchResultshow(false);\r\n    };\r\n\r\n    if (props.liked === false) {\r\n        return (\r\n            <div\r\n                className=\"musicCardCont\"\r\n                onClick={playSong}\r\n                style={\r\n                    context.curMusic._id === props.id._id\r\n                        ? { backgroundColor: \"#0b2266\" }\r\n                        : {}\r\n                }\r\n            >\r\n                <div className=\"songDetail\">\r\n                    {context.curMusic._id !== props.id._id ? (\r\n                        <i className=\"far fa-play-circle songStatus\"></i>\r\n                    ) : (\r\n                        <i className=\"far fa-pause-circle songStatus\"></i>\r\n                    )}\r\n                    <img src={props.src} className=\"songImg\" alt=\"\"/>\r\n                    <span>\r\n                        {shrink(props.name)}\r\n                        <br />\r\n                        <span className=\"singerName\">{shrink(props.singer)}</span>\r\n                    </span>\r\n                </div>\r\n                <div className=\"songLike\">\r\n                    {props.likes}\r\n                    <i className=\"far fa-heart\"></i>\r\n                </div>\r\n            </div>\r\n        );\r\n    } else {\r\n        return (\r\n            <div\r\n                className=\"musicCardCont\"\r\n                onClick={playSong}\r\n                style={\r\n                    context.curMusic._id === props.id._id\r\n                        ? { backgroundColor: \"#0b2266\" }\r\n                        : {}\r\n                }\r\n            >\r\n                <div className=\"songDetail\">\r\n                    {context.curMusic._id !== props.id._id ? (\r\n                        <i className=\"far fa-play-circle songStatus\"></i>\r\n                    ) : (\r\n                        <i className=\"far fa-pause-circle songStatus\"></i>\r\n                    )}\r\n                    <img src={props.src} className=\"songImg\" align=\"middle\" alt=\"\"/>\r\n                    <span>\r\n                        {shrink(props.name)}\r\n                        <br />\r\n                        <span className=\"singerName\">{shrink(props.singer)}</span>\r\n                    </span>\r\n                </div>\r\n                <div className=\"songLike\">\r\n                    {props.likes}\r\n                    <i className=\"fas fa-heart\"></i>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import \"./Styles/HomeBody.css\";\r\nimport BaseContext from \"../Context/BaseContext\";\r\nimport React, { useContext } from \"react\";\r\nimport MusicCard from \"./MusicCard\";\r\nimport PlayListCard from \"./PlayListCard\";\r\n\r\nexport default function HomeBody() {\r\n    const context = useContext(BaseContext);\r\n\r\n    const isLiked = (x) => {\r\n        // //console.log(x);\r\n        if (context.user === null) return false;\r\n        else {\r\n            if (context.user.savedAudio.indexOf(x) !== -1) {\r\n                // //console.log(\"liked song \", x);\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"homebody\">\r\n            <div className=\"playlist \">\r\n                {!context.user ||\r\n                context.user.savedPlayList.length +\r\n                    context.user.contribPlayList.length ===\r\n                    0 ? (\r\n                    <center>\r\n                        <h1>No Playlist Saved/Created</h1>\r\n                    </center>\r\n                ) : (\r\n                    context.user.savedPlayList.map((elem, ind) => {\r\n                        // //console.log(elem, \"svaed plalist\");\r\n                        //console.log(\"elem\", elem);\r\n                        return (\r\n                            <PlayListCard\r\n                                key={elem.id}\r\n                                name={elem.name}\r\n                                creator={elem.createdBy}\r\n                                id={elem}\r\n                                src={elem.clip}\r\n                            />\r\n                        );\r\n                    })\r\n                )}\r\n                {!context.user ||\r\n                context.user.savedPlayList.length +\r\n                    context.user.contribPlayList.length ===\r\n                    0 ? (\r\n                    <></>\r\n                ) : (\r\n                    context.user.contribPlayList.map((elem, ind) => {\r\n                        // elem[\"index\"] = ind;\r\n                        // //console.log(\"elem\", elem);\r\n                        return (\r\n                            <PlayListCard\r\n                                key={elem.id}\r\n                                name={elem.name}\r\n                                creator={elem.createdBy}\r\n                                id={elem}\r\n                                src={elem.clip}\r\n                            />\r\n                        );\r\n                    })\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"recent\">\r\n                {context.curQueue.map((elem, ind) => {\r\n                    elem[\"index\"] = ind;\r\n                    elem[\"liked\"] = isLiked(elem._id);\r\n                    return (\r\n                        <MusicCard\r\n                            key={elem._id}\r\n                            name={elem.name}\r\n                            id={elem}\r\n                            src={elem.clip}\r\n                            likes={elem.plays}\r\n                            liked={elem.liked}\r\n                            playing={false}\r\n                            singer={elem.singer}\r\n                        />\r\n                    );\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import \"./Styles/Homepage.css\";\r\nimport React, { useContext, useEffect } from \"react\";\r\nimport BaseContext from \"../Context/BaseContext\";\r\n// import { useHistory } from \"react-router\";\r\nimport HomeBody from \"./HomeBody\";\r\n\r\nexport default function Homepage(props) {\r\n    const context = useContext(BaseContext);\r\n    // var history = useHistory();\r\n\r\n    //console.log(\"dfasfdsF\",history);\r\n    const loginHandle = () => {\r\n        if (context.user) {\r\n            localStorage.removeItem(\"jwtTokken\");\r\n            window.location.href = \"http://localhost:3000/\";\r\n        } else {\r\n            context.setloginShow(true);\r\n        }\r\n    };\r\n    const gotoadd=()=>{\r\n        context.setuploadMusicShow(true);\r\n    }\r\n\r\n    const searchSong = async (e)=>{\r\n        e.preventDefault();\r\n        var keyword = document.getElementById(\"homesearch\").value.trim();\r\n        if(keyword.length < 3) {\r\n            context.setalertBody(\"Search Keyword must be atleast 3 char\");\r\n            context.setAlert(true);\r\n            return;\r\n        }\r\n        \r\n        var data = {\r\n            \"search\" : keyword\r\n        }\r\n\r\n        data = await context.callApi(\"/api/user/search\", \"POST\", data);\r\n        //console.log(data);\r\n        context.setsearchResult(data);\r\n        context.setsearchResultshow(true);\r\n        \r\n    }\r\n\r\n\r\n    function shuffleArray(array) {\r\n        let curId = array.length;\r\n        // There remain elements to shuffle\r\n        while (0 !== curId) {\r\n          // Pick a remaining element\r\n          let randId = Math.floor(Math.random() * curId);\r\n          curId -= 1;\r\n          // Swap it with the current element.\r\n          let tmp = array[curId];\r\n          array[curId] = array[randId];\r\n          array[randId] = tmp;\r\n        }\r\n        return array;\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n\r\n        const fetchSong = async () => {\r\n            const url = \"/api/song/songs\";\r\n            const data = await fetch(url);\r\n            var resp = await data.json();\r\n            //console.log(resp.data[0], resp.data, \"dfasdjfdskl\");\r\n\r\n            resp.data = shuffleArray(resp.data);\r\n\r\n\r\n            context.setrecentMusic(resp.data);\r\n            context.setcurQueue(resp.data);\r\n            if(resp.data[0]) resp.data[0][\"index\"] = 0;\r\n            context.setcurMusic(resp.data[0] ? resp.data[0] : {});\r\n        };\r\n        // fetchUser();\r\n        if(context.curQueue.length === 0)fetchSong();\r\n    }, []);\r\n\r\n\r\n    const defaultPic =\r\n        \"https://firebasestorage.googleapis.com/v0/b/sampleproject-321915.appspot.com/o/defaultUser.jpg?alt=media&token=b805932f-d9bd-432f-95c8-b1ff00de708a\";\r\n    return (\r\n        <div>\r\n            <div className=\"header\">\r\n                <div className=\"homenavleft\">\r\n                    <div className=\"title\">Music - Connect to Your Soul</div>\r\n                    <div className=\"nav\">\r\n                    </div>\r\n                </div>\r\n                <form className=\"homenavright flex\" onSubmit={searchSong}>\r\n                    <div className=\"homerightleft flex\">\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"homesearch\"\r\n                            placeholder=\"Search Song/Playlist\"\r\n                        />\r\n                        \r\n                        <div className=\"headsearch\" onClick={searchSong}><i className=\"fas fa-search\"></i></div>\r\n                        <span className=\"headsearch headadd\" onClick={gotoadd}><i className=\"fas fa-plus\"></i></span>\r\n                    </div>\r\n                    \r\n                    <img\r\n                        src={`${\r\n                            context.user ? context.user.profilePic : defaultPic\r\n                        }`}\r\n                        alt=\"\"\r\n                        onClick={loginHandle}\r\n                        style={{ cursor: \"pointer\" }}\r\n                    />\r\n                </form>\r\n            </div>\r\n\r\n            <div className=\"body\">\r\n                <HomeBody/>\r\n            </div>\r\n\r\n            {/* <div className=\"player\">\r\n                <Player liked={false} />\r\n            </div> */}\r\n        </div>\r\n    );\r\n}\r\n","import \"./Styles/Player.css\";\r\n\r\nimport React, { useContext, useState } from \"react\";\r\nimport BaseContext from \"../Context/BaseContext\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport default function Player(props) {\r\n    // const [playClass, setplayClass] = useState()\r\n    const [liked, setliked] = useState(false);\r\n    var playPause,\r\n        audio,\r\n        timerDot,\r\n        curTimeAudio,\r\n        songtimeslider,\r\n        volumeSlider,\r\n        curVolume,\r\n        volumeDot,\r\n        curTimeShow,\r\n        fullTimeShow,\r\n        playPause2,\r\n        nextsong,\r\n        pervioussong,\r\n        volumeLogo;\r\n    const context = useContext(BaseContext);\r\n    const histroy = useHistory();\r\n    setTimeout(() => {\r\n        playPause = document.getElementById(\"playPause\");\r\n        playPause2 = document.getElementById(\"playPause2\");\r\n        audio = document.querySelector(\"audio\");\r\n        timerDot = document.getElementById(\"timerDot\");\r\n        curTimeAudio = document.getElementById(\"curTimeAudio\");\r\n        songtimeslider = document.getElementById(\"songtimeslider\");\r\n        volumeSlider = document.getElementById(\"volumeSlider\");\r\n        curVolume = document.getElementById(\"curVolume\");\r\n        volumeDot = document.getElementById(\"volumeDot\");\r\n        curTimeShow = document.getElementById(\"curTimeShow\");\r\n        fullTimeShow = document.getElementById(\"fullTimeShow\");\r\n        volumeLogo = document.getElementById(\"volumeLogo\");\r\n        pervioussong = document.getElementById(\"pervioussong\");\r\n        nextsong = document.getElementById(\"nextsong\");\r\n        audio.ontimeupdate = timeUpdate;\r\n    }, 100);\r\n\r\n    const shrink = (text) => {\r\n        if (!text) return \"\";\r\n\r\n        if (text.length < 15) return text;\r\n        return text.substr(0, 15) + \"..\";\r\n    };\r\n\r\n    const getTime = (x) => {\r\n        var min = parseInt(x / 60);\r\n        if (!min) min = 0;\r\n        var sec = parseInt(x % 60);\r\n        if (!sec) sec = 0;\r\n        return `${min > 9 ? \"\" : \"0\"}${min}:${sec > 9 ? \"\" : \"0\"}${sec}`;\r\n    };\r\n\r\n    const songTimeSliderHandler = (e) => {\r\n        const pos = e.clientX - songtimeslider.offsetLeft;\r\n        if (pos < 0 || pos > window.innerWidth * 0.35) return;\r\n        curTimeAudio.style.width = pos + \"px\";\r\n        timerDot.style.left = pos - 5 + \"px\";\r\n        audio.currentTime = audio.duration * (pos / (window.innerWidth * 0.35));\r\n    };\r\n\r\n    const volumeSliderHandle = (e) => {\r\n        const pos = e.clientX - volumeSlider.offsetLeft;\r\n        if (pos < 0 || pos > 100) return;\r\n        volumeDot.style.left = pos - 5 + \"px\";\r\n        curVolume.style.width = pos + \"px\";\r\n        audio.volume = pos / 100;\r\n        //console.log(audio.volume);\r\n        if (audio.volume === 0) {\r\n            volumeLogo.setAttribute(\"class\", \"fas fa-volume-mute\");\r\n        } else if (audio.volume < 0.5) {\r\n            volumeLogo.setAttribute(\"class\", \"fas fa-volume-down\");\r\n        } else {\r\n            volumeLogo.setAttribute(\"class\", \"fas fa-volume-up\");\r\n        }\r\n    };\r\n\r\n    const lastSong = async () => {\r\n        if (context.curMusic.index === 0) return;\r\n        else {\r\n            if (!context.curMusic.index) {\r\n                return;\r\n            }\r\n            context.setcurMusic(context.curQueue[context.curMusic.index - 1]);\r\n            if (context.changeURL)\r\n                histroy.push(\r\n                    `/audio?id=${\r\n                        context.curQueue[context.curMusic.index - 1]._id\r\n                    }`\r\n                );\r\n            pervioussong.onClick=()=>{};\r\n            nextsong.onClick=()=>{};\r\n            audio.currentTime = 0;\r\n            await audio.load();\r\n            audio.play();\r\n            pervioussong.onClick = lastSong;\r\n            nextsong.onClick = nextSong;\r\n            const playPause = document.getElementById(\"playPause\");\r\n            playPause.classList.remove(\"fa-play\");\r\n            playPause.classList.add(\"fa-pause\");\r\n            const playPause2 = document.getElementById(\"playPause2\");\r\n            playPause2.classList.remove(\"fa-play\");\r\n            playPause2.classList.add(\"fa-pause\");\r\n        }\r\n    };\r\n\r\n    const nextSong = async () => {\r\n        if (context.curMusic.index === context.curQueue.length - 1) return;\r\n        else {\r\n            if (context.curMusic.index !== 0 && !context.curMusic.index) {\r\n                return;\r\n            }\r\n            //console.log(context.curQueue, context.curMusic.index + 1);\r\n            context.setcurMusic(context.curQueue[context.curMusic.index + 1]);\r\n            if (context.changeURL)\r\n                histroy.push(\r\n                    `/audio?id=${\r\n                        context.curQueue[context.curMusic.index + 1]._id\r\n                    }`\r\n                );\r\n                pervioussong.onClick=()=>{};\r\n                nextsong.onClick=()=>{};\r\n            audio.currentTime = 0;\r\n            await audio.load();\r\n            audio.play();\r\n            pervioussong.onClick = lastSong;\r\n            nextsong.onClick = nextSong;\r\n            const playPause = document.getElementById(\"playPause\");\r\n            playPause.classList.remove(\"fa-play\");\r\n            playPause.classList.add(\"fa-pause\");\r\n            const playPause2 = document.getElementById(\"playPause2\");\r\n            playPause2.classList.remove(\"fa-play\");\r\n            playPause2.classList.add(\"fa-pause\");\r\n        }\r\n    };\r\n    const timeUpdate = () => {\r\n        if (!audio) return;\r\n        const dist =\r\n            (audio.currentTime / audio.duration) * window.innerWidth * 0.35;\r\n        curTimeAudio.style.width = dist + \"px\";\r\n        timerDot.style.left = dist - 5 + \"px\";\r\n        curTimeShow.innerHTML = getTime(audio.currentTime);\r\n        fullTimeShow.innerHTML = getTime(audio.duration);\r\n        if (audio.currentTime === audio.duration) {\r\n            nextSong();\r\n        }\r\n    };\r\n\r\n    const playHandle = (e) => {\r\n        if (playPause.classList.contains(\"fa-pause\")) {\r\n            playPause.classList.remove(\"fa-pause\");\r\n            playPause.classList.add(\"fa-play\");\r\n            playPause2.classList.remove(\"fa-pause\");\r\n            playPause2.classList.add(\"fa-play\");\r\n            audio.pause();\r\n        } else {\r\n            playPause.classList.remove(\"fa-play\");\r\n            playPause.classList.add(\"fa-pause\");\r\n            playPause2.classList.remove(\"fa-play\");\r\n            playPause2.classList.add(\"fa-pause\");\r\n            audio.play();\r\n        }\r\n    };\r\n\r\n    const muteHandle = () => {\r\n        volumeLogo.setAttribute(\"class\", \"fas fa-volume-mute\");\r\n        volumeDot.style.left = 0 + \"px\";\r\n        curVolume.style.width = 0 + \"px\";\r\n        audio.volume = 0;\r\n    };\r\n\r\n    const maxMusic = () => {\r\n        //console.log(Object.keys(context.curMusic).length);\r\n        if (Object.keys(context.curMusic).length === 0) return;\r\n        if(context.changeURL === true){\r\n            context.setchangeURL(false);\r\n            histroy.push(\"/\");\r\n            return;\r\n        }\r\n        context.setchangeURL(true);\r\n        histroy.push(`/audio?id=${context.curMusic._id}`);\r\n    };\r\n\r\n    const likeHandle = async () => {\r\n        if (context.user === null) {\r\n            context.setloginShow(true);\r\n            return;\r\n        } else {\r\n            if (context.curMusic.liked === false) {\r\n                //console.log(\"liking the song\");\r\n                var data = {\r\n                    token: localStorage.getItem(\"jwtTokken\"),\r\n                };\r\n\r\n                data = await context.callApi(\r\n                    \"/api/user/savesong/\" + context.curMusic._id,\r\n                    \"POST\",\r\n                    data\r\n                );\r\n\r\n                var tempQue = context.curQueue;\r\n                tempQue[context.curMusic.index].plays += 1;\r\n                tempQue[context.curMusic.index].liked = true;\r\n                context.setcurQueue(tempQue);\r\n                context.setcurMusic(tempQue[context.curMusic.index]);\r\n                //console.log(data);\r\n\r\n                var curUser = context.user;\r\n                curUser.savedAudio.push(context.curMusic._id);\r\n                context.setuser(curUser);\r\n            } else {\r\n                //console.log(\"liking the song\");\r\n                data = {\r\n                    token: localStorage.getItem(\"jwtTokken\"),\r\n                };\r\n\r\n                await context.callApi(\r\n                    \"/api/user/unsavesong/\" + context.curMusic._id,\r\n                    \"POST\",\r\n                    data\r\n                );\r\n                //console.log(data);\r\n                //console.log(context.curMusic.index);\r\n                tempQue = context.curQueue;\r\n                tempQue[context.curMusic.index].plays -= 1;\r\n                tempQue[context.curMusic.index].liked = false;\r\n                context.setcurMusic(tempQue[context.curMusic.index]);\r\n                context.setcurQueue(tempQue);\r\n            }\r\n            getLike();\r\n        }\r\n    };\r\n\r\n    const getLike = () => {\r\n        if (context.user === null) {\r\n            setliked(false);\r\n            return;\r\n        }\r\n        setliked(context.user.savedAudio.indexOf(context.curMusic._id) !== -1);\r\n    };\r\n\r\n    return (\r\n        <div className=\"playerCont\">\r\n            <div className=\"songDetails flex\">\r\n                <img\r\n                    src={context.curMusic.clip}\r\n                    alt=\"\"\r\n                    width=\"70px\"\r\n                    height=\"70px\"\r\n                    className=\"coverimg\"\r\n                />\r\n                <div className=\"playersongDetail\">\r\n                    <div className=\"playersongName\">\r\n                        {shrink(context.curMusic.name)}\r\n                    </div>\r\n                    <div className=\"playersinger\">\r\n                        {shrink(context.curMusic.singer)}\r\n                    </div>\r\n                </div>\r\n                <i\r\n                    className={`${liked === false ? \"far\" : \"fas\"} fa-heart`}\r\n                    id=\"playerliked\"\r\n                    onClick={likeHandle}\r\n                ></i>\r\n            </div>\r\n\r\n            <div className=\"sepratePause flex\">\r\n                <div className=\"sepratePlayer\">\r\n                <i\r\n                    className=\"fas fa-play\"\r\n                    id=\"playPause2\"\r\n                    onClick={playHandle}\r\n                ></i>\r\n                </div>\r\n                <i className={`fas ${context.changeURL === false ?\"fa-angle-up\":\"fa-angle-down\"}`} onClick={maxMusic}></i>\r\n            </div>\r\n\r\n            <div className=\"sliderCont\">\r\n                <div className=\"volumeCont flex\">\r\n                    <i className=\"fas fa-random\"></i>\r\n                    <i\r\n                        className=\"fas fa-step-backward action\"\r\n                        onClick={lastSong}\r\n                        id=\"pervioussong\"\r\n                    ></i>\r\n                    <i\r\n                        className=\"fas fa-play\"\r\n                        id=\"playPause\"\r\n                        onClick={playHandle}\r\n                    ></i>\r\n                    <i\r\n                        className=\"fas fa-step-forward action\"\r\n                        onClick={nextSong}\r\n                        id=\"nextsong\"\r\n                    ></i>\r\n                    <i className={`fas ${context.changeURL === false ?\"fa-angle-up\":\"fa-angle-down\"}`} onClick={maxMusic}></i>\r\n                </div>\r\n                <div className=\"timerCont flex\">\r\n                    <div className=\"initTime\" id=\"curTimeShow\">\r\n                        00:00\r\n                    </div>\r\n                    <div\r\n                        className=\"songtimerslider\"\r\n                        id=\"songtimeslider\"\r\n                        onClick={songTimeSliderHandler}\r\n                    >\r\n                        <div className=\"dot\" id=\"timerDot\"></div>\r\n                        <div id=\"curTimeAudio\"></div>\r\n                    </div>\r\n                    <div className=\"completeTime\" id=\"fullTimeShow\">\r\n                        00:00\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"flex volume\">\r\n                <i\r\n                    className=\"fas fa-volume-up\"\r\n                    id=\"volumeLogo\"\r\n                    onClick={muteHandle}\r\n                ></i>\r\n                <div\r\n                    className=\"volumeSlider\"\r\n                    id=\"volumeSlider\"\r\n                    onClick={volumeSliderHandle}\r\n                >\r\n                    <div className=\"dot\" id=\"volumeDot\"></div>\r\n                    <div id=\"curVolume\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport BaseContext from \"../Context/BaseContext\";\r\nimport \"./Styles/Signin.css\";\r\n\r\nexport default function Signin() {\r\n    const context = useContext(BaseContext);\r\n\r\n    const signinme = async (e) => {\r\n        e.preventDefault();\r\n        const username = document.getElementById(\"username\").value;\r\n        const password = document.getElementById(\"password\").value;\r\n\r\n        const data = {\r\n            \"username\":username,\r\n            \"password\":password,\r\n        }\r\n\r\n        //console.log(data)\r\n\r\n        const resp = await context.callApi(\"/api/user/login\", \"POST\", data);\r\n\r\n        //console.log(resp);\r\n        if(resp.error){\r\n            context.setalertBody(resp.error);\r\n            context.setAlert(true);\r\n            return;\r\n        }\r\n\r\n        localStorage.setItem(\"jwtTokken\", resp.data);\r\n        window.location.href = \"http://localhost:3000/\";\r\n    };\r\n    const hideMe = ()=>{\r\n        context.setloginShow(false);\r\n    }\r\n\r\n    const toSignUp= ()=>{\r\n        context.setsignUpShow(true);\r\n        context.setloginShow(false);\r\n    }\r\n\r\n\r\n    if(context.loginShow === false) return(<></>);\r\n\r\n    return (\r\n        <div className=\"divsigninCont\">\r\n        <form className=\"signinCont\" onSubmit={signinme}>\r\n            <i className=\"fas fa-times signinclose\" onClick={hideMe}></i>\r\n\r\n            <div className=\"signintext\">\r\n                <div>\r\n                    <i className=\"fas fa-user\"></i>\r\n                    <input\r\n                        id=\"username\"\r\n                        type=\"text\"\r\n                        placeholder=\"Your Username\"\r\n                        required=\"true\"\r\n                        className=\"text\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <i className=\"fas fa-lock\"></i>\r\n                    <input\r\n                        id=\"password\"\r\n                        type=\"password\"\r\n                        placeholder=\"Your Password\"\r\n                        required=\"true\"\r\n                        className=\"text\"\r\n                    />\r\n                </div>\r\n                <input type=\"submit\" value=\"Log In\" className=\"loginbtn\"/>\r\n            </div>\r\n\r\n            <div id=\"linkSignUp\" onClick={toSignUp}>Don't have, Create One</div>\r\n        </form>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport BaseContext from \"../Context/BaseContext\";\r\nimport \"./Styles/Signup.css\";\r\n\r\nexport default function Signup() {\r\n    const context = useContext(BaseContext);\r\n\r\n    const uploadImg = async (x) => {\r\n        //console.log(x.target.files[0]);\r\n        const img = document.getElementById(\"SignupprofilePic\");\r\n        const fileReader = new FileReader();\r\n        fileReader.onload = (e) => {\r\n            img.setAttribute(\"src\", e.target.result);\r\n        };\r\n        fileReader.readAsDataURL(x.target.files[0]);\r\n    };\r\n\r\n    const toLogin = ()=>{\r\n        context.setsignUpShow(false);\r\n        context.setloginShow(true);\r\n    }\r\n    \r\n\r\n    const signUpMe = async (e) => {\r\n        e.preventDefault();\r\n        const name = document.getElementById(\"name\").value;\r\n        const username = document.getElementById(\"username\").value;\r\n        const password = document.getElementById(\"password\").value;\r\n        const cpassword = document.getElementById(\"cpassword\").value;\r\n        var file = document.getElementById(\"signupfile\");\r\n        var profilepic = \"https://cdn.pixabay.com/photo/2018/11/13/21/43/instagram-3814050_960_720.png\";\r\n        if (password !== cpassword) {\r\n            context.setalertBody(\"Both Password should match\");\r\n            context.setAlert(true);\r\n            return;\r\n        }\r\n\r\n        const createAccount = document.getElementById(\"createAccount\");\r\n        if(file.files.length > 0){\r\n            \r\n            if (\r\n                file.files[0].name.endsWith(\".jpg\") ||\r\n                file.files[0].name.endsWith(\".jpeg\") ||\r\n                file.files[0].name.endsWith(\".png\")\r\n            );\r\n            else {\r\n                context.setAlert(true);\r\n                context.setalertBody(\r\n                    \"Profile image foramt should be in jpg, png or jpeg\"\r\n                );\r\n                return;\r\n            }\r\n            createAccount.value = \"Creating...\";\r\n            createAccount.setAttribute(\"disabled\",true)\r\n            profilepic = await context.upload(\"image/jpg\", \"signupfile\");\r\n        }else{\r\n            createAccount.setAttribute(\"disabled\",true)\r\n            createAccount.value = \"Creating...\";\r\n        }\r\n        //console.log(profilepic);\r\n        const data = {\r\n            \"username\":username,\r\n            \"name\" : name,\r\n            \"password\":password,\r\n            \"profilePic\":profilepic\r\n        }\r\n\r\n        //console.log(data)\r\n\r\n        const resp = await context.callApi(\"/api/user/signup\", \"POST\", data);\r\n\r\n        //console.log(resp);\r\n\r\n        createAccount.value=\"Create\";\r\n        createAccount.removeAttribute(\"disabled\");\r\n\r\n        if(resp.error){\r\n            context.setalertBody(resp.error);\r\n            context.setAlert(true);\r\n            return;\r\n        }\r\n\r\n        localStorage.setItem(\"jwtTokken\", resp.data);\r\n        window.location.href = \"http://localhost:3000/\";\r\n    };\r\n\r\n    const hideMe = ()=>{\r\n        context.setsignUpShow(false);\r\n    }\r\n\r\n    if(context.signUpShow === false) return(<></>);\r\n\r\n    return (\r\n        <div className=\"divsignupcont\">\r\n\r\n        <form className=\"signupCont\" onSubmit={signUpMe}>\r\n            <i className=\"fas fa-times signUpclose\" onClick={hideMe}></i>\r\n            {/* <div id=\"linktoSignIn\"></div> */}\r\n\r\n            <div className=\"signuptext\">\r\n                <div>\r\n                    <i className=\"fas fa-signature\"></i>\r\n                    <input\r\n                        id=\"name\"\r\n                        type=\"text\"\r\n                        placeholder=\"Your Name\"\r\n                        required=\"true\"\r\n                        className=\"signuptextfield\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <i className=\"fas fa-user\"></i>\r\n                    <input\r\n                        id=\"username\"\r\n                        type=\"text\"\r\n                        placeholder=\"Your Username\"\r\n                        required=\"true\"\r\n                        className=\"signuptextfield\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <i className=\"fas fa-lock\"></i>\r\n                    <input\r\n                        id=\"password\"\r\n                        type=\"password\"\r\n                        placeholder=\"Your Password\"\r\n                        required=\"true\"\r\n                        className=\"signuptextfield\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <i className=\"fas fa-lock\"></i>\r\n                    <input\r\n                        id=\"cpassword\"\r\n                        type=\"password\"\r\n                        placeholder=\"Confirm Password\"\r\n                        required=\"true\"\r\n                        className=\"signuptextfield\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"signupphoto\">\r\n                <label htmlFor=\"signupfile\">\r\n                    <img\r\n                        src=\"https://cdn.pixabay.com/photo/2018/11/13/21/43/instagram-3814050_960_720.png\"\r\n                        width=\"175px\"\r\n                        height=\"175px\"\r\n                        alt=\"Profile Pic\"\r\n                        title=\"Chose Image\"\r\n                        id=\"SignupprofilePic\"\r\n                    />\r\n                </label>\r\n                <input\r\n                    type=\"file\"\r\n                    id=\"signupfile\"\r\n                    style={{ display: \"none\" }}\r\n                    onChange={uploadImg}\r\n                />\r\n                <input type=\"submit\" value=\"Create\" id=\"createAccount\"/>\r\n            </div>\r\n            <div id=\"linktoSignIn\" onClick={toLogin}>Already Have, Click Here</div>\r\n        </form>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useContext, useState } from \"react\";\r\nimport BaseContext from \"../Context/BaseContext\";\r\nimport \"./Styles/UploadMusic.css\";\r\n\r\nexport default function UploadMusic() {\r\n    const context = useContext(BaseContext);\r\n\r\n    const [imgURL, setimgURL] = useState(\r\n        \"https://firebasestorage.googleapis.com/v0/b/sampleproject-321915.appspot.com/o/blankCover.png?alt=media&token=5e8ade58-8ce6-4d50-a69e-9eb27634d636\"\r\n    );\r\n    const [music, setmusic] = useState(\"Select A file Please...\");\r\n\r\n    const musicCoverChg = (x) => {\r\n        if(x.target.files.length === 0)return;\r\n        //console.log(x.target.files[0]);\r\n        // const img = document.getElementById(\"musicCover\");\r\n        const fileReader = new FileReader();\r\n        fileReader.onload = (e) => {\r\n            //console.log(\"df\");\r\n            setimgURL(e.target.result);\r\n        };\r\n        fileReader.readAsDataURL(x.target.files[0]);\r\n    };\r\n\r\n    const musicFileChg = (e) => {\r\n        if(e.target.files.length === 0)return;\r\n        setmusic(e.target.files[0].name);\r\n    };\r\n\r\n    const uploadMusic = async (e) => {\r\n        e.preventDefault();\r\n        const uploadbtn = document.getElementById(\"uploadbtn\");\r\n\r\n        var fileInput = document.getElementById(\"musicUploadCover\");\r\n        var musicInput = document.getElementById(\"musicFile\");\r\n        var img = \"https://firebasestorage.googleapis.com/v0/b/sampleproject-321915.appspot.com/o/blankCover.png?alt=media&token=5e8ade58-8ce6-4d50-a69e-9eb27634d636\";\r\n        if (fileInput.files.length > 0) {\r\n            if (\r\n                fileInput.files[0].name.endsWith(\".jpg\") ||\r\n                fileInput.files[0].name.endsWith(\".jpeg\") ||\r\n                fileInput.files[0].name.endsWith(\".png\")\r\n            );\r\n            else {\r\n                context.setAlert(true);\r\n                context.setalertBody(\r\n                    \"Cover image foramt should be in jpg, png or jpeg\"\r\n                );\r\n                return;\r\n            }\r\n\r\n            if ( musicInput.files.length === 0 || !musicInput.files[0].name.endsWith(\".mp3\") ) {\r\n                context.setAlert(true);\r\n                context.setalertBody(\"Song format should be .mp3\");\r\n                return;\r\n            }\r\n            uploadbtn.setAttribute(\"disabled\",true);\r\n            //console.log(\"Uploading image\");\r\n            uploadbtn.value = \"Uploading...\";\r\n            img = await context.upload(\"image/jpg\", \"musicUploadCover\");\r\n        }else{\r\n            if ( musicInput.files.length === 0 || !musicInput.files[0].name.endsWith(\".mp3\") ) {\r\n                context.setAlert(true);\r\n                context.setalertBody(\"Song format should be .mp3\");\r\n                return;\r\n            }\r\n            uploadbtn.setAttribute(\"disabled\",true);\r\n            //console.log(\"Uploading image\");\r\n            uploadbtn.value = \"Uploading...\";\r\n\r\n        }\r\n\r\n        //console.log(\"Uploading Music\", img);\r\n\r\n        const musicUrl = await context.upload(\"audio/mp3\", \"musicFile\");\r\n        //console.log(\"Uploaded\", music);\r\n        uploadbtn.value = \"Uploaded\";\r\n        let data = {\r\n            name: music,\r\n            token: localStorage.getItem(\"jwtTokken\"),\r\n            audio: musicUrl,\r\n            clip: img,\r\n            singer: document.getElementById(\"singer\").value,\r\n            tags: document.getElementById(\"tags\").value.split(\",\"),\r\n        };\r\n        //console.log(data);\r\n        const resp = await context.callApi(\"/api/song\", \"POST\", data);\r\n        context.setAlert(true);\r\n        context.setalertBody(resp.success);\r\n        context.setuploadMusicShow(false);\r\n        uploadbtn.value = \"Upload\";\r\n        setmusic(\"Select A file Please...\");\r\n        uploadbtn.removeAttribute(\"disabled\");\r\n    };\r\n\r\n    const hideUpload = () => {\r\n        context.setuploadMusicShow(false);\r\n    };\r\n\r\n    if (context.uploadMusicShow === false) return <></>;\r\n    if (context.user === null) {\r\n        hideUpload();\r\n        context.setloginShow(true);\r\n    }\r\n    return (\r\n        <div className=\"uploadmusiccont\">\r\n            <form id=\"musicUploadForm\">\r\n                <i className=\"fas fa-times signinclose\" onClick={hideUpload}></i>\r\n                <div className=\"musicCoverCont\">\r\n                    <div className=\"musicCoverImage\">\r\n                        <label htmlFor=\"musicUploadCover\">\r\n                            <img\r\n                                alt=\"\"\r\n                                src={imgURL}\r\n                                width=\"100px\"\r\n                                height=\"100px\"\r\n                                id=\"musicCover\"\r\n                            />\r\n                        </label>\r\n                    </div>\r\n                    <input\r\n                        type=\"file\"\r\n                        id=\"musicUploadCover\"\r\n                        style={{ display: \"none\" }}\r\n                        onChange={musicCoverChg}\r\n                    />\r\n                    <div className=\"musicname\">\r\n                        <div id=\"labelmusicFile\">\r\n                            <label htmlFor=\"musicFile\">{music}</label>\r\n                        </div>\r\n                        <input\r\n                            type=\"file\"\r\n                            id=\"musicFile\"\r\n                            style={{ display: \"none\" }}\r\n                            onChange={musicFileChg}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"othersongdetail\">\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"singer\"\r\n                        className=\"detail\"\r\n                        placeholder=\"Enter Singer\"\r\n                        required={true}\r\n                    />\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"tags\"\r\n                        className=\"detail\"\r\n                        placeholder=\"Enter Tags(Coma Seprated)\"\r\n                        required={true}\r\n                    />\r\n                </div>\r\n                <input\r\n                    type=\"submit\"\r\n                    id=\"uploadbtn\"\r\n                    value=\"Upload\"\r\n                    className=\"music-upload\"\r\n                    onClick={uploadMusic}\r\n                />\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useContext, useState } from \"react\";\r\nimport BaseContext from \"../Context/BaseContext\";\r\n\r\nimport \"./Styles/CreateNewPlaylist.css\";\r\n\r\nexport default function CreateNewPlaylist() {\r\n    const context = useContext(BaseContext);\r\n\r\n    const [imgURL, setimgURL] = useState(\r\n        \"https://firebasestorage.googleapis.com/v0/b/sampleproject-321915.appspot.com/o/blankCover.png?alt=media&token=5e8ade58-8ce6-4d50-a69e-9eb27634d636\"\r\n    );\r\n\r\n    const listCoverChg = (x) => {\r\n        if (x.target.files.length === 0) return;\r\n\r\n        // //console.log(x.target.files[0]);\r\n        const fileReader = new FileReader();\r\n        fileReader.onload = (e) => {\r\n            // //console.log(\"df\");\r\n            setimgURL(e.target.result);\r\n        };\r\n        fileReader.readAsDataURL(x.target.files[0]);\r\n    };\r\n\r\n    const closeme = () => {\r\n        context.setcreateListShow(false);\r\n    };\r\n\r\n    const addSong = async (d) => {\r\n        var data = {\r\n            token: localStorage.getItem(\"jwtTokken\"),\r\n            songs: JSON.stringify(context.curMusic),\r\n        };\r\n        // //console.log(\"/api/playlist/\", d.id, context.curMusic);\r\n        await context.callApi(\"/api/playlist/\" + d.id, \"PUT\", data);\r\n        // //console.log(data);\r\n        context.setshowAddto(false);\r\n    };\r\n\r\n    const createList = async (e) => {\r\n        e.preventDefault();\r\n        // //console.log(\"you clicked\");\r\n        const uploadbtn = document.getElementById(\"uploadbtn\");\r\n        var img =\r\n            \"https://firebasestorage.googleapis.com/v0/b/sampleproject-321915.appspot.com/o/emptyAlbum.jpg?alt=media&token=6a4b6f16-4cae-4fe8-81d5-3210c0c16afe\";\r\n        var fileInput = document.getElementById(\"listUploadCover\");\r\n\r\n        if (fileInput.files.length > 0) {\r\n            if (\r\n                fileInput.files[0].name.endsWith(\".jpg\") ||\r\n                fileInput.files[0].name.endsWith(\".jpeg\") ||\r\n                fileInput.files[0].name.endsWith(\".png\")\r\n            );\r\n            else {\r\n                context.setAlert(true);\r\n                context.setalertBody(\r\n                    \"Cover image foramt should be in jpg, png or jpeg\"\r\n                );\r\n                return;\r\n            }\r\n            uploadbtn.setAttribute(\"disabled\", true);\r\n            // //console.log(\"Uploading image\");\r\n            uploadbtn.value = \"Uploading...\";\r\n            img = await context.upload(\"image/jpg\", \"listUploadCover\");\r\n        }\r\n        uploadbtn.value = \"Uploaded\";\r\n        let data = {\r\n            name: document.getElementById(\"nameList\").value,\r\n            token: localStorage.getItem(\"jwtTokken\"),\r\n            clip: img,\r\n        };\r\n        // //console.log(data);\r\n        const resp = await context.callApi(\"/api/playlist\", \"POST\", data);\r\n        context.setAlert(true);\r\n        context.setalertBody(resp.success);\r\n        uploadbtn.value = \"Upload\";\r\n        // //console.log(resp);\r\n\r\n        context.setcreateListShow(false);\r\n        await addSong(resp.data);\r\n        uploadbtn.removeAttribute(\"disabled\");\r\n    };\r\n\r\n    if (context.createListShow === false) return <></>;\r\n\r\n    return (\r\n        <div className=\"uploadmusiccont createlist\">\r\n            <form id=\"listcreatorForm\">\r\n                <i className=\"fas fa-times signinclose\" onClick={closeme}></i>\r\n                <div className=\"musicCoverCont\">\r\n                    <div className=\"musicCoverImage\">\r\n                        <label htmlFor=\"listUploadCover\">\r\n                            <img\r\n                                src={imgURL}\r\n                                width=\"100px\"\r\n                                height=\"100px\"\r\n                                id=\"listcover\"\r\n                                alt=\"\"\r\n                            />\r\n                        </label>\r\n                    </div>\r\n                    <input\r\n                        type=\"file\"\r\n                        id=\"listUploadCover\"\r\n                        style={{ display: \"none\" }}\r\n                        onChange={listCoverChg}\r\n                    />\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"nameList\"\r\n                        className=\"detail\"\r\n                        placeholder=\"Enter Name\"\r\n                    />\r\n                </div>\r\n                <input\r\n                    type=\"submit\"\r\n                    id=\"uploadbtn\"\r\n                    className=\"createList music-upload\"\r\n                    value=\"Create\"\r\n                    onClick={createList}\r\n                />\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport BaseContext from \"../Context/BaseContext\";\r\nimport MusicCard from \"./MusicCard\";\r\nimport \"./Styles/Playlist.css\";\r\n\r\nexport default function Playlist() {\r\n    const context = useContext(BaseContext);\r\n    const [songElems, setsongElems] = useState([]);\r\n    const [songArray, setsongArray] = useState([]);\r\n    const [parsedArray, setparsedArray] = useState(null);\r\n    const [isFollowed, setisFollowed] = useState(false)\r\n    useEffect(() => {\r\n        const fetchList = async () => {\r\n            var listId = window.location.href.split(\"=\");\r\n            listId = listId[listId.length - 1];\r\n            //console.log(listId);\r\n\r\n            var listDetail = await fetch(\r\n                \"/api/playlist/\" + listId\r\n            );\r\n            listDetail = await listDetail.json();\r\n            var songs = await fetch(\r\n                \"/api/playlist/song/\" + listId\r\n            );\r\n            songs = await songs.json();\r\n            context.setcurPlaylist(listDetail.data);\r\n            //console.log(listDetail.data, \"curPlaylist\");\r\n            setsongArray(songs.data.songs);\r\n            var arr = [];\r\n            for (var i of songs.data.songs) {\r\n                var elem = JSON.parse(i);\r\n                arr.push(\r\n                    <MusicCard\r\n                        name={elem.name}\r\n                        id={elem}\r\n                        src={elem.clip}\r\n                        likes={elem.plays}\r\n                        liked={elem.liked}\r\n                        playing={false}\r\n                        singer={elem.singer}\r\n                    />\r\n                );\r\n            }\r\n            setsongElems(arr);\r\n        };\r\n        fetchList();\r\n    }, []);\r\n\r\n    useEffect(()=>{\r\n        followed();\r\n    }, [context.user]);\r\n\r\n    const histroy = useHistory();\r\n    const gotohome = () => {\r\n        histroy.push(\"/\");\r\n    };\r\n    const addToQueue = async () => {\r\n        if(parsedArray === context.curQueue) return;\r\n        var arr = [];\r\n        var n = songArray.length;\r\n        for (var i = 0; i < n; i++) {\r\n            var cur = JSON.parse(songArray[i]);\r\n            cur[\"index\"] = i;\r\n            arr.push(cur);\r\n        }\r\n        setparsedArray(arr);\r\n        context.setcurQueue(arr);\r\n        context.setcurMusic(arr[0]);\r\n        await document.getElementById(\"audio\").load();\r\n        document.getElementById(\"audio\").play();\r\n        const playPause = document.getElementById(\"playPause\");\r\n        playPause.classList.remove(\"fa-play\");\r\n        playPause.classList.add(\"fa-pause\");\r\n        const playPause2 = document.getElementById(\"playPause2\");\r\n        playPause2.classList.remove(\"fa-play\");\r\n        playPause2.classList.add(\"fa-pause\");\r\n    };\r\n\r\n    const followed = async () => {\r\n        if(context.user === null){\r\n            return false;\r\n        }\r\n        var listId = window.location.href.split(\"=\");\r\n        listId = listId[listId.length - 1];\r\n\r\n        var arr = context.user.contribPlayList;\r\n        var n = arr.length;\r\n        for (var i = 0; i < n; i++) {\r\n            if (arr[i].id === listId) {\r\n                //console.log(\"id found at cont \", i);\r\n                setisFollowed(true)\r\n                return true;\r\n            }\r\n        }\r\n\r\n        arr = context.user.savedPlayList;\r\n        n = arr.length;\r\n        for (i = 0; i < n; i++) {\r\n            if (arr[i].id === listId){\r\n                //console.log(\"id found at saved \", i);\r\n                setisFollowed(true)\r\n                return true;\r\n            } \r\n        }\r\n        setisFollowed(false)\r\n        return false;\r\n    };\r\n\r\n    const unfollow = async ()=>{\r\n        if(context.user == null){\r\n            context.setAlert(true);\r\n            context.setalertBody(\"Please Login first\");\r\n            return;\r\n        }\r\n        var listId = window.location.href.split(\"=\");\r\n        listId = listId[listId.length - 1];\r\n\r\n        var arr = context.user.contribPlayList;\r\n        var n = arr.length;\r\n        for (var i = 0; i < n; i++) {\r\n            if (arr[i].id === listId) {\r\n                context.setAlert(true);\r\n                context.setalertBody(\"Cann't Unfollow Playlist created By you\");\r\n                return;\r\n            }\r\n        }\r\n\r\n        var data = {\r\n            \"token\":localStorage.getItem(\"jwtTokken\")\r\n        }\r\n        await context.callApi(\"/api/user/unsaveplaylist/\"+listId, \"POST\", data);\r\n        //console.log(data);\r\n        context.setAlert(true);\r\n        context.setalertBody(\"PlayList removed\");\r\n    }\r\n\r\n    const follow = async ()=>{\r\n        if(context.user == null){\r\n            context.setAlert(true);\r\n            context.setalertBody(\"Please Login first\");\r\n            return;\r\n        }\r\n        var listId = window.location.href.split(\"=\");\r\n        listId = listId[listId.length - 1];\r\n\r\n        var data = {\r\n            \"token\":localStorage.getItem(\"jwtTokken\")\r\n        }\r\n        await context.callApi(\"/api/user/saveplaylist/\"+listId, \"POST\", data);\r\n        //console.log(data);\r\n        context.setAlert(true);\r\n        context.setalertBody(\"PlayList Followed\");\r\n        //console.log(data);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"listcont\">\r\n            <div className=\"listconttop\">\r\n                <i className=\"fas fa-home\" onClick={gotohome}></i>\r\n            </div>\r\n\r\n            <div className=\"listDetails\">\r\n                <div className=\"playList\">\r\n                    <div className=\"aboutlist\">\r\n                        <img src={context.curPlaylist.clip} height=\"175px\" alt=\"\"/>\r\n                        <div className=\"listdata\">\r\n                            <div className=\"listname\">{context.curPlaylist.name}</div>\r\n                            <div className=\"listcreator\">{context.curPlaylist.createdBy}</div>\r\n                            {(isFollowed === true) ? (\r\n                                <div className=\"listFollowing\" onClick={unfollow}>Following</div>\r\n                            ) : (\r\n                                <div className=\"listFollow\" onClick={follow}>Follow</div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                    <i className=\"fas fa-play addtoqueue\" onClick={addToQueue}></i>\r\n                </div>\r\n                {songElems}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport BaseContext from \"../Context/BaseContext\";\r\nimport MusicCard from \"./MusicCard\";\r\nimport PlayListCard from \"./PlayListCard\";\r\nimport \"./Styles/SearchResult.css\";\r\n\r\nexport default function SearchResult() {\r\n    const context = useContext(BaseContext);\r\n    const hideMe = () => {\r\n        context.setsearchResultshow(false);\r\n    };\r\n\r\n    const isLiked = (x) => {\r\n        //console.log(x);\r\n        if (context.user === null) return false;\r\n        else {\r\n            if (context.user.savedAudio.indexOf(x) !== -1) {\r\n                //console.log(\"liked song \", x);\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    };\r\n\r\n    const showMusic = (e) => {\r\n        const resultshowSong = document.getElementById(\"resultshowSong\");\r\n        const resultshowlist = document.getElementById(\"resultshowlist\");\r\n        const songResult = document.getElementById(\"songResult\");\r\n        const listResult = document.getElementById(\"listResult\");\r\n\r\n        resultshowSong.style.display = \"none\";\r\n        resultshowlist.style.display = \"block\";\r\n        songResult.style.display = \"block\";\r\n        listResult.style.display = \"none\";\r\n    };\r\n\r\n    const showList = () => {\r\n        const resultshowSong = document.getElementById(\"resultshowSong\");\r\n        const resultshowlist = document.getElementById(\"resultshowlist\");\r\n        const songResult = document.getElementById(\"songResult\");\r\n        const listResult = document.getElementById(\"listResult\");\r\n\r\n        resultshowSong.style.display = \"block\";\r\n        resultshowlist.style.display = \"none\";\r\n        songResult.style.display = \"none\";\r\n        listResult.style.display = \"flex\";\r\n    };\r\n\r\n    if (context.searchResultshow === false) return <></>;\r\n    return (\r\n        <div className=\"searchCont\">\r\n            <i className=\"fas fa-times signinclose\" onClick={hideMe}></i>\r\n            <div className=\"searchResultCont\">\r\n                <div className=\"SearchtopBar\">\r\n                    <div\r\n                        onClick={showMusic}\r\n                        id=\"resultshowSong\"\r\n                        style={{ display: \"none\" }}\r\n                    >\r\n                        Songs\r\n                    </div>\r\n                    <div onClick={showList} id=\"resultshowlist\">\r\n                        PlayLists\r\n                    </div>\r\n                </div>\r\n                <div className=\"result\">\r\n                    <div id=\"songResult\" style={{ display: \"block\" }}>\r\n                        {context.searchResult.music.length > 0 ? (\r\n                            context.searchResult.music.map((elem) => {\r\n                                elem[\"liked\"] = isLiked(elem._id);\r\n                                return (\r\n                                    <MusicCard\r\n                                        name={elem.name}\r\n                                        id={elem}\r\n                                        src={elem.clip}\r\n                                        likes={elem.plays}\r\n                                        liked={elem.liked}\r\n                                        playing={false}\r\n                                        singer={elem.singer}\r\n                                    />\r\n                                );\r\n                            })\r\n                        ) : (\r\n                            <div className=\"searchnotFound\">No Song Found</div>\r\n                        )}\r\n                    </div>\r\n                    <div id=\"listResult\" style={{ display: \"none\" }}>\r\n                        {context.searchResult.playlist.length > 0 ? (\r\n                            context.searchResult.playlist.map((elem) => {\r\n                                elem.id = elem._id;\r\n                                return (\r\n                                    <PlayListCard\r\n                                        key={elem._id}\r\n                                        name={elem.name}\r\n                                        creator={elem.createdBy}\r\n                                        id={elem}\r\n                                        src={elem.clip}\r\n                                    />\r\n                                );\r\n                            })\r\n                        ) : (\r\n                            <div className=\"searchnotFound\"> No Playlist found </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import { useContext, useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport Alert from \"./Component/Alert\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport FullScreenPlayer from \"./Component/FullScreenPlayer\";\r\nimport Homepage from \"./Component/Homepage\";\r\nimport Player from \"./Component/Player\";\r\nimport Signin from \"./Component/Signin\";\r\nimport Signup from \"./Component/Signup\";\r\nimport UploadMusic from \"./Component/UploadMusic\";\r\nimport BaseContext from \"./Context/BaseContext\";\r\nimport CreateNewPlaylist from \"./Component/CreateNewPlaylist\";\r\nimport Playlist from \"./Component/Playlist\";\r\nimport SearchResult from \"./Component/SearchResult\";\r\n\r\nfunction App() {\r\n\r\n    //if want to uncomment uncomment all the components inside a single comment block\r\n    const context = useContext(BaseContext);\r\n\r\n    useEffect(()=>{\r\n        context.fetchUser();\r\n    },[]);\r\n\r\n\r\n    return (\r\n        <BrowserRouter>\r\n\r\n            <audio\r\n                src={context.curMusic.audio}\r\n                id=\"audio\"\r\n                // onTimeUpdate={timeUpdate}\r\n                muted={false}\r\n            ></audio>\r\n            {/* <Addto/> */}\r\n            <SearchResult/>\r\n            <Alert />\r\n            <Signin />\r\n            <Signup />\r\n            <UploadMusic/>\r\n            <CreateNewPlaylist/>\r\n\r\n            <Switch>\r\n                <Route exact path=\"/\">\r\n                    <Homepage/>\r\n                </Route>\r\n                <Route exact path=\"/audio\">\r\n                    <FullScreenPlayer />\r\n                </Route>\r\n                <Route exact path=\"/playlist\">\r\n                    <Playlist/>\r\n                </Route>\r\n            </Switch>\r\n            <Player/>\r\n            {/* <AddtoList/> */}\r\n            {/* <FullScreenPlayer/> */}\r\n            {/* <MusicCard name=\"Jag Ghumya\" src={src} likes=\"2M\" like={true} playing={true} /> */}\r\n            {/* <UploadMusic/> */}\r\n            {/* <Signin/> */}\r\n            {/* <PlayListCard src={src} follower={345} name=\"Deepak Kumar\" creator=\"Deepak\"/> */}\r\n        </BrowserRouter>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { initializeApp } from \"firebase/app\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyD6NLsiYtcLTLSFMNUUzvgPMK950WFLGZY\",\r\n    authDomain: \"sampleproject-321915.firebaseapp.com\",\r\n    databaseURL: \"https://sampleproject-321915-default-rtdb.firebaseio.com\",\r\n    projectId: \"sampleproject-321915\",\r\n    storageBucket: \"sampleproject-321915.appspot.com\",\r\n    messagingSenderId: \"652578540292\",\r\n    appId: \"1:652578540292:web:99c9bb6692cb52ecbcde51\",\r\n    measurementId: \"G-97CERWH4KW\",\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst storage = getStorage(app);\r\n\r\nexport default storage;\r\n","import React, { useState } from \"react\";\r\nimport BaseContext from \"./BaseContext\";\r\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\r\nimport storage from \"./FirebaseInit\";\r\n\r\nconst ContextState = (props) => {\r\n    const [alertBody, setalertBody] = useState(\"No Error\");\r\n    const [alert, setAlert] = useState(false);\r\n    const [user, setuser] = useState(null);\r\n    const [loginShow, setloginShow] = useState(false);\r\n    const [signUpShow, setsignUpShow] = useState(false);\r\n    const [uploadMusicShow, setuploadMusicShow] = useState(false);\r\n    const [recentMusic, setrecentMusic] = useState([]);\r\n    const [curMusic, setcurMusic] = useState({});\r\n    const [curQueue, setcurQueue] = useState([]);\r\n    const [changeURL, setchangeURL] = useState(false);\r\n    const [showAddto, setshowAddto] = useState(false);\r\n    const [createListShow, setcreateListShow] = useState(false);\r\n    const [curPlaylist, setcurPlaylist] = useState({});\r\n    const [searchResult, setsearchResult] = useState({});\r\n    const [searchResultshow, setsearchResultshow] = useState(false);\r\n    const [recentSong, setrecentSong] = useState([]);\r\n\r\n    // useEffect(() => {\r\n    //     var ind = recentMusic.indexOf(curMusic);\r\n    //     var arr = recentMusic;\r\n    //     if(ind !== -1){\r\n    //         arr = arr.filter((elem) => {return elem !== curMusic});\r\n    //     }\r\n    //     arr = [curMusic].concat(arr);\r\n    //     while(arr.length > 50) arr.pop();\r\n    //     setrecentMusic(arr);\r\n\r\n    //     const update = async ()=>{\r\n    //         //console.log(\"recent update array arr\", arr);\r\n    //         var data = {\r\n    //             \"token\" : localStorage.getItem(\"jwtTokken\"),\r\n    //             \"recent\" : arr\r\n    //         }\r\n\r\n    //         const resp = await callApi(\"/api/user/update\", \"POST\", data);\r\n    //         //console.log(resp);\r\n    //     }\r\n    //     update();\r\n\r\n    // }, [curMusic]);\r\n\r\n    // useEffect(()=>{\r\n    //     //console.log(recentMusic);\r\n    // }, [recentMusic]);\r\n\r\n    const fetchUser = async () => {\r\n        const token = localStorage.getItem(\"jwtTokken\");\r\n        if (token) {\r\n            const data = {\r\n                token: token,\r\n            };\r\n\r\n            const resp = await callApi(\r\n                \"/api/user/getUser\",\r\n                \"POST\",\r\n                data\r\n            );\r\n            setuser(resp.data);\r\n        }\r\n    };\r\n\r\n    const callApi = async (endpoint, type, data) => {\r\n        const url = `${endpoint}`;\r\n        //console.log(data);\r\n        const resp = await fetch(url, {\r\n            method: type,\r\n            headers: {\r\n                \"Content-Type\": \"application/json;charset=utf-8\",\r\n            },\r\n            body: JSON.stringify(data),\r\n        });\r\n\r\n        const parsed = await resp.json();\r\n        return parsed;\r\n    };\r\n\r\n    const upload = async (type, e) => {\r\n        e = document.getElementById(e);\r\n        const file = e.files[0];\r\n        var fileRef = ref(storage, file.name);\r\n        const metadata = {\r\n            contentType: type,\r\n        };\r\n\r\n        await uploadBytesResumable(fileRef, file, metadata);\r\n\r\n        const url = await getDownloadURL(fileRef);\r\n\r\n        return url;\r\n    };\r\n\r\n    return (\r\n        <BaseContext.Provider\r\n            value={{\r\n                callApi,\r\n                upload,\r\n                alertBody,\r\n                setalertBody,\r\n                alert,\r\n                setAlert,\r\n                user,\r\n                setuser,\r\n                loginShow,\r\n                setloginShow,\r\n                signUpShow,\r\n                setsignUpShow,\r\n                uploadMusicShow,\r\n                setuploadMusicShow,\r\n                recentMusic,\r\n                setrecentMusic,\r\n                curMusic,\r\n                setcurMusic,\r\n                curQueue,\r\n                setcurQueue,\r\n                changeURL,\r\n                setchangeURL,\r\n                showAddto,\r\n                setshowAddto,\r\n                createListShow,\r\n                setcreateListShow,\r\n                curPlaylist,\r\n                setcurPlaylist,\r\n                searchResult,\r\n                setsearchResult,\r\n                searchResultshow,\r\n                setsearchResultshow,\r\n                recentSong,\r\n                setrecentSong,\r\n                fetchUser,\r\n            }}\r\n        >\r\n            {props.children}\r\n        </BaseContext.Provider>\r\n    );\r\n};\r\n\r\nexport default ContextState;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport ContextState from \"./Context/ContextState\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <ContextState>\r\n            <App />\r\n        </ContextState>\r\n    </React.StrictMode>,\r\n    document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(//console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n"],"sourceRoot":""}